<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- Meta, title, CSS, favicons, etc. -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>CoBakers</title>
<!-- Bootstrap -->
<link rel="SHORTCUT ICON"
	href="assets/images/favicon.png">
<link
	href="./assets/vendors/bootstrap/dist/css/bootstrap.min.css"
	rel="stylesheet">
<!-- Font Awesome -->
<link
	href="./assets/vendors/font-awesome/css/font-awesome.min.css"
	rel="stylesheet">
<!-- NProgress -->
<link
	href="./assets/vendors/nprogress/nprogress.css"
	rel="stylesheet">

<link
	href="./assets/vendors/dropzone/dist/min/dropzone.min.css"
	rel="stylesheet">
<!-- Animate.css -->
<link
	href="./assets/vendors/animate.css/animate.min.css"
	rel="stylesheet">

<!-- Custom Theme Style -->
<link href="./assets/build/css/custom.css"
	rel="stylesheet">

<!-- jQuery -->
<script
	src="./assets/vendors/jquery/dist/jquery.min.js"></script>

<!-- Parsley -->
<script
	src="./assets/vendors/parsleyjs/dist/parsley.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/md5.js"></script>
	
	<link href="assets/theme.css" rel="stylesheet" media="all">

</head>

<style>
.dropzone {
	min-height: 100px;
}
</style>
<style>
	/*body {
	  font-family: "Crafty Girls", cursive;
	  font-size: 16px;
	}
	
	h1 {
	  padding: 3rem 1rem 0;
	  text-align: center;
	  line-height: 1.3;
	  letter-spacing: 4px;
	  font-size: 2em;
	}*/
	
	p {
	  padding: 3rem 1rem 0;
	  text-align: center;
	  line-height: 1.3;
	  letter-spacing: 4px;
	  font-size: 1.125em;
	}
	
	/******************************
	 * FLEXBOX STYLES
	 ***************************** */
	.dice {
	  display: flex;
	  /*margin-top: 4rem;*/
	  justify-content: center;
	  position: fixed;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		background-color: #fff;
		opacity: .75;
		z-index: 9999999;
		padding-top: 20%;
	}
	
	.face {
	  display: flex;
	  width: 5rem;
	  height: 5rem;
	  margin: 0 0.7rem;
	  padding: 0.5rem;
	  border-radius: 5px;
	  opacity: 0;
	}
	.face .dot {
	  width: 0.8rem;
	  height: 0.8rem;
	  background: #F44336;
	  border-radius: 50%;
	}
	.face:nth-child(1) {
	  border: 2px solid #F44336;
	  -webkit-animation: waves 5s linear infinite;
			  animation: waves 5s linear infinite;
	}
	.face:nth-child(1) .dot {
	  background: #F44336;
	}
	.face:nth-child(2) {
	  border: 2px solid #E91E63;
	  -webkit-animation: waves 5s 0.2s linear infinite;
			  animation: waves 5s 0.2s linear infinite;
	}
	.face:nth-child(2) .dot {
	  background: #E91E63;
	}
	.face:nth-child(3) {
	  border: 2px solid #9C27B0;
	  -webkit-animation: waves 5s 0.4s linear infinite;
			  animation: waves 5s 0.4s linear infinite;
	}
	.face:nth-child(3) .dot {
	  background: #9C27B0;
	}
	.face:nth-child(4) {
	  border: 2px solid #673AB7;
	  -webkit-animation: waves 5s 0.6s linear infinite;
			  animation: waves 5s 0.6s linear infinite;
	}
	.face:nth-child(4) .dot {
	  background: #673AB7;
	}
	.face:nth-child(5) {
	  border: 2px solid #3F51B5;
	  -webkit-animation: waves 5s 0.8s linear infinite;
			  animation: waves 5s 0.8s linear infinite;
	}
	.face:nth-child(5) .dot {
	  background: #3F51B5;
	}
	.face:nth-child(6) {
	  border: 2px solid #2196F3;
	  -webkit-animation: waves 5s 1s linear infinite;
			  animation: waves 5s 1s linear infinite;
	}
	.face:nth-child(6) .dot {
	  background: #2196F3;
	}
	
	.first-face {
	  justify-content: center;
	  align-items: center;
	}
	
	.second-face {
	  justify-content: space-between;
	}
	.second-face .dot:last-of-type {
	  align-self: flex-end;
	}
	
	.third-face {
	  justify-content: space-between;
	}
	.third-face .dot:nth-child(2) {
	  align-self: center;
	}
	.third-face .dot:last-of-type {
	  align-self: flex-end;
	}
	
	.fourth-face {
	  justify-content: space-between;
	}
	.fourth-face .column {
	  display: flex;
	  flex-direction: column;
	  justify-content: space-between;
	}
	
	.fifth-face {
	  justify-content: space-between;
	}
	.fifth-face .column {
	  display: flex;
	  flex-direction: column;
	  justify-content: space-between;
	}
	.fifth-face .column:nth-child(2) {
	  justify-content: center;
	}
	
	.sixth-face {
	  justify-content: space-between;
	}
	.sixth-face .column {
	  display: flex;
	  flex-direction: column;
	  justify-content: space-between;
	}
	
	/****************************************************** */
	@-webkit-keyframes waves {
	  0% {
		-webkit-transform: translateY(0);
				transform: translateY(0);
		opacity: 0;
	  }
	  4% {
		-webkit-transform: translateY(-25px);
				transform: translateY(-25px);
		opacity: 1;
	  }
	  8% {
		-webkit-transform: translateY(0);
				transform: translateY(0);
		opacity: 1;
	  }
	  70% {
		opacity: 0;
	  }
	}
	@keyframes waves {
	  0% {
		-webkit-transform: translateY(0);
				transform: translateY(0);
		opacity: 0;
	  }
	  4% {
		-webkit-transform: translateY(-25px);
				transform: translateY(-25px);
		opacity: 1;
	  }
	  8% {
		-webkit-transform: translateY(0);
				transform: translateY(0);
		opacity: 1;
	  }
	  70% {
		opacity: 0;
	  }
	}
	
	</style>
	
	
<body class="login"
	style="background-image: url(./assets/images/1.jpg); background-repeat: no-repeat; background-size: cover;">
	<h1 style="font-size:120px; font-weight:600; position:absolute; bottom:10px; right:10px"><span style="color:#f9bf1b">Co</span><span style="color:#fff;">Bakers</span></h1>
	<div>
			<div class="dice" style="display:none">
  
					<div class="face first-face">
					  <div class="dot"></div>  
					</div>
					
					<div class="face second-face">
					  <div class="dot"></div>  
					  <div class="dot"></div>  
					</div>
					
					<div class="face third-face">
					  <div class="dot"></div>  
					  <div class="dot"></div>
					  <div class="dot"></div>
					</div>
					
					<div class="face fourth-face">
					  <div class="column">
						<div class="dot"></div>  
						<div class="dot"></div>  
					  </div>
					  <div class="column">
						<div class="dot"></div>  
						<div class="dot"></div>  
					  </div>    
					</div>
					
					<div class="face fifth-face">
					  <div class="column">
						<div class="dot"></div>  
						<div class="dot"></div>  
					  </div>
					  <div class="column">
						<div class="dot"></div>
					  </div>
					  <div class="column">
						<div class="dot"></div>  
						<div class="dot"></div>  
					  </div>    
					</div>
					
					<div class="face sixth-face">
					  <div class="column">
						<div class="dot"></div>  
						<div class="dot"></div>
						<div class="dot"></div>
					  </div>
					  <div class="column">
						<div class="dot"></div>  
						<div class="dot"></div>  
						<div class="dot"></div>
					  </div>    
					</div>
				  </div>
				  
		<a class="hiddenanchor" id="signup"></a> <a class="hiddenanchor"
			id="signin"></a> <a class="hiddenanchor" id="reset_password"></a>
		<div class="login_wrapper">
			<div class="animate form login_form">
				<section class="login_content" style="padding-top: 100px;">

					<!-- <img src="./assets/images/sadguru_logo.png" width="170" alt="logo">-->
					<div class="x_panel">
						<form data-parsley-validate
							class="form-horizontal form-label-left" name="logindata"
							id="logindata">

							<h1>Login</h1>
							<div class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback">
								<input type="text" id="user_id"
									class="form-control has-feedback-left"
									placeholder="Phone No."
									data-parsley-required-message="Please enter phone no."
									required="required" autofocus /> <span
									class="fa fa-user form-control-feedback left"
									aria-hidden="true"></span>
							</div>
							<div
								class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback">
								<input type="password" id="user_password"
									class="form-control has-feedback-left" placeholder="Password"
									required="required"
									onkeydown="event.which === 13 && employee_login_details();"
									data-parsley-required-message="Please enter password." /> <span
									class="fa fa-unlock-alt form-control-feedback left"
									aria-hidden="true"></span>
							</div>
							
							<div>

								<button id="login_details" type="button"
									class="btn btn-success form-control"
									>Log In</button>
								<br />
								
								<br />

								<button id="fetch_details" type="button"
									class="btn btn-success form-control"
									>Fetch Data For Local Log In</button>
								<br />

								<br />

							<!--	<button id="log_out" type="button"
									class="btn btn-success form-control"
									>Log Out</button>
								<br /> -->
								<div class="form-group" id="error_login" style="color: red;">

								</div>

							</div>

							<div class="clearfix"></div>
							<div>
								&copy; 2017 - 2018
								
								<br /> Powered by <a href="https://corecotechnologies.com"
									target="_blank">CoReCo Technologies</a>
								<br />	<br />
								Ver 1.0.0 (26.09.18)
							</div>

						</form>
					</div>
				</section>
			</div>

			
		</div>
	</div>

	<div class="modal fade" id="Successfully_data_fetch_Modal" tabindex="-1"
		role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
		data-keyboard="false" data-backdrop="static">
		<div class="modal-dialog modal-md">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close close_modal"
						data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">Login</h4>
				</div>
				<div class="modal-body">
					<form data-parsley-validate class="form-horizontal form-label-left"
						name="formdata" id="formdata">
						<div class="x_content">
								<div class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback">
										<label>Data fetch successfully.!</label>
								</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
						<div class="col-md-12 col-sm-12 col-xs-12 form-group"
								style="text-align: right">
								<button type="button" class="btn btn-primary close_modal"
									data-dismiss="modal">Ok</button>
						</div>
				</div>
			</div>
		</div>
	</div>


	<div class="modal fade" id="Failed_data_fetch_Modal" tabindex="-1"
		role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
		data-keyboard="false" data-backdrop="static">
		<div class="modal-dialog modal-md">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close close_modal"
						data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">Login</h4>
				</div>
				<div class="modal-body">
					<form data-parsley-validate class="form-horizontal form-label-left"
						name="formdata1" id="formdata1">
						<div class="x_content">
							
								<div class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback">
										<label>Something went wrong.!</label>
									</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
						<div class="col-md-12 col-sm-12 col-xs-12 form-group"
								style="text-align: right">
								<button type="button" class="btn btn-primary close_modal"
									data-dismiss="modal">Ok</button>
						</div>
				</div>
			</div>
		</div>
	</div>

<div class="modal fade" id="No_internet_connection_Modal" tabindex="-1"
	role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
	data-keyboard="false" data-backdrop="static">
	<div class="modal-dialog modal-md">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close close_modal"
					data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title" id="myModalLabel">Message</h4>
			</div>
			<div class="modal-body">
				<form data-parsley-validate class="form-horizontal form-label-left"
					name="formdata2" id="formdata2">
					<div class="x_content">
						<div class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback">
							<label>Sorry..!! No Internet Connection.!</label>
						</div>
						
						<!-- <br />
						 -->
					</div>
				</form>
			</div>
			<div class="modal-footer">
					<div class="col-md-12 col-sm-12 col-xs-12 form-group"
							style="text-align: right">
							<button type="button" class="btn btn-primary close_modal"
								data-dismiss="modal">Ok</button>
					</div>
			</div>
		</div>
	</div>
</div>





	<!-- Bootstrap -->
	<script src="./assets/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
	<!-- FastClick -->
	<script src="./assets/vendors/fastclick/lib/fastclick.js"></script>
	<!-- NProgress -->
	<script src="./assets/vendors/nprogress/nprogress.js"></script>
	<!-- Dropzone.js -->
	<script src="./assets/vendors/dropzone/dist/min/dropzone.min.js"></script>
	<!-- Chart.js -->
	<script src="./assets/vendors/Chart.js/dist/Chart.min.js"></script>
	<!-- gauge.js -->
	<script src="./assets/vendors/gauge.js/dist/gauge.min.js"></script>
	<!-- bootstrap-progressbar -->
	<script
		src="./assets/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
	<!-- iCheck -->
	<script src="./assets/vendors/iCheck/icheck.min.js"></script>




	<!-- Custom Theme Scripts -->
	<script src="./assets/build/js/custom.min.js"></script>


	<!-- Custom development common validation Scripts -->
	<script src="./assets/js/custom_form_validation.js"></script>

	<script type="text/javascript">
										
										var db;						
		$(function () {
		
				localStorage.clear();
			//alert('hello');


				window.indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;
                
                var request = window.indexedDB.open("CoBakers", 1);

                request.onerror = function(e)
                {
                        console.log("error: ");
                };


                request.onsuccess = function(e)
                {
                        db = request.result;
                        console.log('Got a db connection! It is %s', db);
                };

                request.onupgradeneeded = function(e)
                {
                        var db = e.target.result;
                        if(!db.objectStoreNames.contains('sales_order'))
                        {
                                var os = db.createObjectStore("sales_order", {keyPath: "order_id", autoIncrement:true});
                                // Create Index for name
                                //  os.createIndex('name','name',{unique:false});
                                os.createIndex("order_id", "order_id", { unique: true });
                        }

                        if(!db.objectStoreNames.contains('items'))
                        {
                                var os = db.createObjectStore("items", {keyPath: "item_id", autoIncrement:true});
                                // Create Index for name
                                //  os.createIndex('name','name',{unique:false});
                                os.createIndex("item_id", "item_id", { unique: true });
                        }

						if(!db.objectStoreNames.contains('user_details'))
                        {
                                var os = db.createObjectStore("user_details", {keyPath: "phone_no", autoIncrement:true});
                                // Create Index for name
                                //  os.createIndex('name','name',{unique:false});
                                os.createIndex("phone_no", "phone_no", { unique: true });
						}
						if(!db.objectStoreNames.contains('order_id_details'))
                        {
                                var os = db.createObjectStore("order_id_details", {keyPath: "order_id", autoIncrement:true});
                                // Create Index for name
                                //  os.createIndex('name','name',{unique:false});
                                os.createIndex("order_id", "order_id", { unique: true });
                        }
						if(!db.objectStoreNames.contains('order_log'))
                        {
                                var os = db.createObjectStore("order_log", {keyPath: "order_id", autoIncrement:true});
                                // Create Index for name
                                //  os.createIndex('name','name',{unique:false});
                                os.createIndex("order_id", "order_id", { unique: true });
                        }

							if(!db.objectStoreNames.contains('pull_products_log'))
                        {
                                var os = db.createObjectStore("pull_products_log", {keyPath: "id", autoIncrement:true});
                                // Create Index for name
                                //  os.createIndex('name','name',{unique:false});
                                os.createIndex( "id","id", { unique: true });
                        }
						if(!db.objectStoreNames.contains('push_orders_log'))
                        {
                                var os = db.createObjectStore("push_orders_log", {keyPath: "id", autoIncrement:true});
                                // Create Index for name
                                //  os.createIndex('name','name',{unique:false});
                                os.createIndex("id", "id", { unique: true });
                        }


                }






















											 $('#login_details').click(function()
                								{
													//alert('in login detail call');
													var user_id 		= $("#user_id").val();
										 		    var user_password	= $("#user_password").val();
													 $('#error_login').html('');
													var salt = '}#f4ga~g%7hjg4&j(7mk?/!bj30ab-wi=6^7-$^R9F|GK5J#E6WT;IO[JN'; // random string
													var ency_pass = salt+user_password;

													if(user_id =='' && user_password !='')
													{
														$('#error_login').html('Please enter login details.');
														return false;
													}

													 if(user_id =='')
													 {
														$('#error_login').html('Please enter phone number.');
														return false;
													 }
													 	

													if(user_password=='')
													{
														$('#error_login').html('Please enter password.');
														return false;
													}

													var md5_pass = CryptoJS.MD5(ency_pass);
													
													var sha_pass = SHA1(md5_pass);
													user_password = sha_pass;

													var transaction = db.transaction("user_details","readonly")
													var store = transaction.objectStore("user_details");
													var cursor = store.openCursor();

													cursor.onsuccess = function(e)
													{
														var res = e.target.result;
														if(res)
														{
															
															var loc_phone_no = res.key;
															//console.log(loc_phone_no);
															var loc_password = res.value.password;
															var company_id = res.value.company_id;
															var unit_id = res.value.unit_id;
															//alert(loc_phone_no);
															//alert(user_id);
															//alert(loc_password);
															//alert(user_password);


															if(user_id != loc_phone_no && user_password != loc_password)
															{
																
																res.continue();
																

															}
															else if(user_id == loc_phone_no && user_password != loc_password)
															{
																console.log("Invalid Password");
																//$('#error_login').html('Invalid Password.');
																//return false;
																res.continue();

															}
															else if(user_id != loc_phone_no && user_password == loc_password)
															{
																console.log("Invalid Phone No");
																//$('#error_login').html('Invalid Phone No.');
																//return false;

																res.continue();

															}
															else
															{
																//console.log("logged in");	
																// let myObj =
																// {
																// 	'company_id' : company_id,
																// 	'unit_id' : unit_id,
																// 	'phone_no' : loc_phone_no
																// }
																// console.log(myObj);
																/*localStorage.setItem('key', JSON.stringify(myObj));

																let item = JSON.parse(localStorage.getItem('key'));
																console.log(item);*/

																localStorage.setItem('company_id',company_id);
																localStorage.setItem('unit_id',unit_id);
																localStorage.setItem('phone_no',loc_phone_no);

																location.href ='pos_dashboard.html';

																	
																		
																	
																


															}
														}
														else
														{
															//console.log("Invalid Details");
															$('#error_login').html('Invalid login details.');
															return false;
														}
													}
													
													

												});


												/* $('#log_out').click(function()
                								{
													if(localStorage.length > 0)
													{
														console.log("Session Present");

														for(let i = 0; i < localStorage.length; i++)
														{
															let key = localStorage.key(i);
															let value = localStorage.getItem(key);
															//var length = value.length;
															//console.log(length);
															//for (let i = 0; i< value)
															console.log(key, value);
															//var d = new Date();
															//alert(d);
														}
													}
													else
													{
														console.log("Session Not Present");
													}

													//localStorage.clear();
												

												});*/

												$('#fetch_details').click(function()
                								{
													//alert('in fetch detail call');
													$('.dice').show();
													if (navigator.onLine) 
													{
    													// alert('Has connection, go do something');
														$('#user_id').prop('disabled',true);
														$('#user_password').prop('disabled',true);
														 $.ajax({
														type : "GET",
														url : 'http://localhost:3000/fetchLoginDetails',
														
														success : function(result) 
														{

															// return success

															var data = JSON.parse(result);
															//var data = result;
															var login_array = [];
					
															for (var i=0; i<data.length; i++)
															{
																//alert('hi');
																var company_id = data[i].company_id;
																var unit_id = data[i].units_handle;
																var phone_no = data[i].user_phone_no;
																var password = data[i].user_password;
																

																var login_details =
																{
																	'company_id':company_id,
																	'unit_id':unit_id,
																	'phone_no':phone_no,
																	'password':password
																}

																login_array.push(login_details);
															}
															//console.log(login_array);

															var length = Object.keys(login_array).length;

															for (var i =0 ; i< length ; i++)
															{
																var login_details =
																{
																	company_id: login_array[i].company_id,
																	unit_id: login_array[i].unit_id,
																	phone_no: login_array[i].phone_no,
																	password: login_array[i].password
																}

																//console.log(login_details);
																var transaction = db.transaction(["user_details"],"readwrite")
																var store = transaction.objectStore("user_details");
																var request = store.put(login_details);
																request.onsuccess = function(e)
																{
																	//console.log("successfull added data");  ///Show modal
																	$('#Successfully_data_fetch_Modal').modal('show');
																	
																}
																request.onerror = function(e)
																{
																	//console.log("error while adding data");   // Show Modal
																	
																	$('#Failed_data_fetch_Modal').modal('show');
																	
																	
																}

																
															}
															$('.dice').hide();
															$('#user_id').prop('disabled',false);
															$('#user_password').prop('disabled',false);
														}

														});
													}
													else
													{
														//alert('No Connection');  // Show Modal
														$('.dice').hide();
														$('#No_internet_connection_Modal').modal('show');
													}

												});
										});

function employee_login_details()
{
	$('#login_details').click();
}


function SHA1 (msg) {
 
 function rotate_left(n,s) {
	 var t4 = ( n<<s ) | (n>>>(32-s));
	 return t4;
 };

 function lsb_hex(val) {
	 var str="";
	 var i;
	 var vh;
	 var vl;

	 for( i=0; i<=6; i+=2 ) {
		 vh = (val>>>(i*4+4))&0x0f;
		 vl = (val>>>(i*4))&0x0f;
		 str += vh.toString(16) + vl.toString(16);
	 }
	 return str;
 };

 function cvt_hex(val) {
	 var str="";
	 var i;
	 var v;

	 for( i=7; i>=0; i-- ) {
		 v = (val>>>(i*4))&0x0f;
		 str += v.toString(16);
	 }
	 return str;
 };


 function Utf8Encode(string) {
	 string = string.toString().replace(/\r\n/g,"\n");
	 var utftext = "";

	 for (var n = 0; n < string.length; n++) {

		 var c = string.charCodeAt(n);

		 if (c < 128) {
			 utftext += String.fromCharCode(c);
		 }
		 else if((c > 127) && (c < 2048)) {
			 utftext += String.fromCharCode((c >> 6) | 192);
			 utftext += String.fromCharCode((c & 63) | 128);
		 }
		 else {
			 utftext += String.fromCharCode((c >> 12) | 224);
			 utftext += String.fromCharCode(((c >> 6) & 63) | 128);
			 utftext += String.fromCharCode((c & 63) | 128);
		 }

	 }

	 return utftext;
 };

 var blockstart;
 var i, j;
 var W = new Array(80);
 var H0 = 0x67452301;
 var H1 = 0xEFCDAB89;
 var H2 = 0x98BADCFE;
 var H3 = 0x10325476;
 var H4 = 0xC3D2E1F0;
 var A, B, C, D, E;
 var temp;

 msg = Utf8Encode(msg);

 var msg_len = msg.length;

 var word_array = new Array();
 for( i=0; i<msg_len-3; i+=4 ) {
	 j = msg.charCodeAt(i)<<24 | msg.charCodeAt(i+1)<<16 |
	 msg.charCodeAt(i+2)<<8 | msg.charCodeAt(i+3);
	 word_array.push( j );
 }

 switch( msg_len % 4 ) {
	 case 0:
		 i = 0x080000000;
	 break;
	 case 1:
		 i = msg.charCodeAt(msg_len-1)<<24 | 0x0800000;
	 break;

	 case 2:
		 i = msg.charCodeAt(msg_len-2)<<24 | msg.charCodeAt(msg_len-1)<<16 | 0x08000;
	 break;

	 case 3:
		 i = msg.charCodeAt(msg_len-3)<<24 | msg.charCodeAt(msg_len-2)<<16 | msg.charCodeAt(msg_len-1)<<8	| 0x80;
	 break;
 }

 word_array.push( i );

 while( (word_array.length % 16) != 14 ) word_array.push( 0 );

 word_array.push( msg_len>>>29 );
 word_array.push( (msg_len<<3)&0x0ffffffff );


 for ( blockstart=0; blockstart<word_array.length; blockstart+=16 ) {

	 for( i=0; i<16; i++ ) W[i] = word_array[blockstart+i];
	 for( i=16; i<=79; i++ ) W[i] = rotate_left(W[i-3] ^ W[i-8] ^ W[i-14] ^ W[i-16], 1);

	 A = H0;
	 B = H1;
	 C = H2;
	 D = H3;
	 E = H4;

	 for( i= 0; i<=19; i++ ) {
		 temp = (rotate_left(A,5) + ((B&C) | (~B&D)) + E + W[i] + 0x5A827999) & 0x0ffffffff;
		 E = D;
		 D = C;
		 C = rotate_left(B,30);
		 B = A;
		 A = temp;
	 }

	 for( i=20; i<=39; i++ ) {
		 temp = (rotate_left(A,5) + (B ^ C ^ D) + E + W[i] + 0x6ED9EBA1) & 0x0ffffffff;
		 E = D;
		 D = C;
		 C = rotate_left(B,30);
		 B = A;
		 A = temp;
	 }

	 for( i=40; i<=59; i++ ) {
		 temp = (rotate_left(A,5) + ((B&C) | (B&D) | (C&D)) + E + W[i] + 0x8F1BBCDC) & 0x0ffffffff;
		 E = D;
		 D = C;
		 C = rotate_left(B,30);
		 B = A;
		 A = temp;
	 }

	 for( i=60; i<=79; i++ ) {
		 temp = (rotate_left(A,5) + (B ^ C ^ D) + E + W[i] + 0xCA62C1D6) & 0x0ffffffff;
		 E = D;
		 D = C;
		 C = rotate_left(B,30);
		 B = A;
		 A = temp;
	 }

	 H0 = (H0 + A) & 0x0ffffffff;
	 H1 = (H1 + B) & 0x0ffffffff;
	 H2 = (H2 + C) & 0x0ffffffff;
	 H3 = (H3 + D) & 0x0ffffffff;
	 H4 = (H4 + E) & 0x0ffffffff;

 }

 var temp = cvt_hex(H0) + cvt_hex(H1) + cvt_hex(H2) + cvt_hex(H3) + cvt_hex(H4);
 return temp.toLowerCase();

}

										

										


										// function login_details()
										// {
										// 	alert('in login call');
											
										// 		var user_id 		= $("#user_id").val();
										// 		var user_password	= $("#user_password").val();
												
											
										// }

										// function fetch_details()
										// {
										// 	alert('in fetch detail call');

											
										// 		var user_id 		= $("#user_id").val();
										// 		var user_password	= $("#user_password").val();
												
											
										// }
										


										</script>

<script src="https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"></script>
<!--<script type="text/javascript">
hotkeys('ctrl+a,ctrl+b,r,f1', function(event,handler) {
  switch(handler.key){
    case "ctrl+a":alert('you pressed ctrl+a!');break;
    case "ctrl+b":alert('you pressed ctrl+b!');break;
    case "r":alert('you pressed r!');break;
    case "f1":alert('you pressed f!');break;
  }
});
</script>
-->

</body>
</html>